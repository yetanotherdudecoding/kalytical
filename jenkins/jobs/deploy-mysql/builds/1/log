Started by user [8mha:////4Nct9mT4JkcR2n6qL2qp2Se2jSWIXugywtK/9phaDtIgAAAAmB+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzuEgYe/dLi1CL9lPzk7NQiAErXYGvBAAAA[0mzzz@zzz.com
Building in workspace /var/jenkins_home/workspace/deploy-mysql
Cloning the remote Git repository
Cloning repository https://zerodown524@bitbucket.org/zerodown524/kalytical.git
 > git init /var/jenkins_home/workspace/deploy-mysql # timeout=10
Fetching upstream changes from https://zerodown524@bitbucket.org/zerodown524/kalytical.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress https://zerodown524@bitbucket.org/zerodown524/kalytical.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://zerodown524@bitbucket.org/zerodown524/kalytical.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://zerodown524@bitbucket.org/zerodown524/kalytical.git # timeout=10
Fetching upstream changes from https://zerodown524@bitbucket.org/zerodown524/kalytical.git
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress https://zerodown524@bitbucket.org/zerodown524/kalytical.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/initial^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/initial^{commit} # timeout=10
Checking out Revision 1a90b71f39a722034bd5ed63c58f4cf205cb9991 (refs/remotes/origin/initial)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 1a90b71f39a722034bd5ed63c58f4cf205cb9991
Commit message: "update work log"
First time build. Skipping changelog.
[deploy-mysql] $ docker build -t instance-2:8080/mysql:1 --pull=true --file=mysql/Dockerfile mysql
Sending build context to Docker daemon  9.728kB
Step 1/14 : FROM centos:7
Trying to pull repository docker.io/library/centos ... 
7: Pulling from docker.io/library/centos
a02a4930cb5d: Already exists
Digest: sha256:184e5f35598e333bfa7de10d8fb1cebb5ee4df5bc0f970bf2b1e7c7345136426
Status: Downloaded newer image for docker.io/centos:7
 ---> 1e1148e4cc2c
Step 2/14 : USER root
 ---> Running in 912ea729fa32
 ---> 4c1fa2572ce1
Removing intermediate container 912ea729fa32
Step 3/14 : WORKDIR /opt
 ---> f24b4efed7a0
Removing intermediate container 5b3bfaa31a77
Step 4/14 : RUN yum install wget -y
 ---> Running in beb4b662a744

[91m[0mLoaded plugins: fastestmirror, ovl
Determining fastest mirrors
 * base: repo1.ash.innoscale.net
 * extras: repo1.ash.innoscale.net
 * updates: repo1.ash.innoscale.net
Resolving Dependencies
--> Running transaction check
---> Package wget.x86_64 0:1.14-18.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package         Arch              Version                Repository       Size
================================================================================
Installing:
 wget            x86_64            1.14-18.el7            base            547 k

Transaction Summary
================================================================================
Install  1 Package

Total download size: 547 k
Installed size: 2.0 M
Downloading packages:
[91mwarning: /var/cache/yum/x86_64/7/base/packages/wget-1.14-18.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
[0mPublic key for wget-1.14-18.el7.x86_64.rpm is not installed
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
[91mImporting GPG key 0xF4A80EB5:
 Userid     : "CentOS-7 Key (CentOS 7 Official Signing Key) <security@centos.org>"
 Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5
 Package    : centos-release-7-6.1810.2.el7.centos.x86_64 (@CentOS)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
[0mRunning transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : wget-1.14-18.el7.x86_64                                      1/1 
install-info: No such file or directory for /usr/share/info/wget.info.gz
  Verifying  : wget-1.14-18.el7.x86_64                                      1/1 

Installed:
  wget.x86_64 0:1.14-18.el7                                                     

Complete!
 ---> 8809853b4bd9
Removing intermediate container beb4b662a744
Step 5/14 : RUN wget https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm
 ---> Running in d57632334904

[91m[0m[91m--2018-12-13 20:05:08--  https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm
[0m[91mResolving dev.mysql.com (dev.mysql.com)... [0m[91m137.254.60.11
Connecting to dev.mysql.com (dev.mysql.com)|137.254.60.11|:443... [0m[91mconnected.
[0m[91mHTTP request sent, awaiting response... [0m[91m302 Found
Location: https://repo.mysql.com//mysql57-community-release-el7-9.noarch.rpm [following]
[0m[91m--2018-12-13 20:05:08--  https://repo.mysql.com//mysql57-community-release-el7-9.noarch.rpm
Resolving repo.mysql.com (repo.mysql.com)... [0m[91m23.195.65.211
Connecting to repo.mysql.com (repo.mysql.com)|23.195.65.211|:443... [0m[91mconnected.
[0m[91mHTTP request sent, awaiting response... [0m[91m200 OK
[0m[91mLength: 9224 (9.0K) [application/x-redhat-package-manager]
[0m[91mSaving to: 'mysql57-community-release-el7-9.noarch.rpm'
[0m[91m
     0K .........                                             100% 32.0M=0s

2018-12-13 20:05:08 (32.0 MB/s) - 'mysql57-community-release-el7-9.noarch.rpm' saved [9224/9224]

[0m ---> 97babb87372a
Removing intermediate container d57632334904
Step 6/14 : RUN yum install mysql57-community-release-el7-9.noarch.rpm -y && yum install mysql-server -y
 ---> Running in faa8f36f0654

[91m[0mLoaded plugins: fastestmirror, ovl
Examining mysql57-community-release-el7-9.noarch.rpm: mysql57-community-release-el7-9.noarch
Marking mysql57-community-release-el7-9.noarch.rpm to be installed
Resolving Dependencies
--> Running transaction check
---> Package mysql57-community-release.noarch 0:el7-9 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package             Arch   Version
                                  Repository                               Size
================================================================================
Installing:
 mysql57-community-release
                     noarch el7-9 /mysql57-community-release-el7-9.noarch 8.6 k

Transaction Summary
================================================================================
Install  1 Package

Total size: 8.6 k
Installed size: 8.6 k
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : mysql57-community-release-el7-9.noarch                       1/1 
  Verifying  : mysql57-community-release-el7-9.noarch                       1/1 

Installed:
  mysql57-community-release.noarch 0:el7-9                                      

Complete!
Loaded plugins: fastestmirror, ovl
Loading mirror speeds from cached hostfile
 * base: repo1.ash.innoscale.net
 * extras: repo1.ash.innoscale.net
 * updates: repo1.ash.innoscale.net
Resolving Dependencies
--> Running transaction check
---> Package mysql-community-server.x86_64 0:5.7.24-1.el7 will be installed
--> Processing Dependency: mysql-community-common(x86-64) = 5.7.24-1.el7 for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: mysql-community-client(x86-64) >= 5.7.9 for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: perl(strict) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: perl(Getopt::Long) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: net-tools for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: libnuma.so.1(libnuma_1.2)(64bit) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: libnuma.so.1(libnuma_1.1)(64bit) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: /usr/bin/perl for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: libnuma.so.1()(64bit) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Processing Dependency: libaio.so.1()(64bit) for package: mysql-community-server-5.7.24-1.el7.x86_64
--> Running transaction check
---> Package libaio.x86_64 0:0.3.109-13.el7 will be installed
---> Package mysql-community-client.x86_64 0:5.7.24-1.el7 will be installed
--> Processing Dependency: mysql-community-libs(x86-64) >= 5.7.9 for package: mysql-community-client-5.7.24-1.el7.x86_64
---> Package mysql-community-common.x86_64 0:5.7.24-1.el7 will be installed
---> Package net-tools.x86_64 0:2.0-0.24.20131004git.el7 will be installed
---> Package numactl-libs.x86_64 0:2.0.9-7.el7 will be installed
---> Package perl.x86_64 4:5.16.3-293.el7 will be installed
--> Processing Dependency: perl-libs = 4:5.16.3-293.el7 for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Socket) >= 1.3 for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Scalar::Util) >= 1.10 for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl-macros for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl-libs for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(threads::shared) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(threads) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(constant) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Time::Local) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Time::HiRes) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Storable) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Socket) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Scalar::Util) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Pod::Simple::XHTML) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Pod::Simple::Search) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Filter::Util::Call) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(File::Temp) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(File::Spec::Unix) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(File::Spec::Functions) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(File::Spec) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(File::Path) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Exporter) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Cwd) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: perl(Carp) for package: 4:perl-5.16.3-293.el7.x86_64
--> Processing Dependency: libperl.so()(64bit) for package: 4:perl-5.16.3-293.el7.x86_64
---> Package perl-Getopt-Long.noarch 0:2.40-3.el7 will be installed
--> Processing Dependency: perl(Pod::Usage) >= 1.14 for package: perl-Getopt-Long-2.40-3.el7.noarch
--> Processing Dependency: perl(Text::ParseWords) for package: perl-Getopt-Long-2.40-3.el7.noarch
--> Running transaction check
---> Package mysql-community-libs.x86_64 0:5.7.24-1.el7 will be installed
---> Package perl-Carp.noarch 0:1.26-244.el7 will be installed
---> Package perl-Exporter.noarch 0:5.68-3.el7 will be installed
---> Package perl-File-Path.noarch 0:2.09-2.el7 will be installed
---> Package perl-File-Temp.noarch 0:0.23.01-3.el7 will be installed
---> Package perl-Filter.x86_64 0:1.49-3.el7 will be installed
---> Package perl-PathTools.x86_64 0:3.40-5.el7 will be installed
---> Package perl-Pod-Simple.noarch 1:3.28-4.el7 will be installed
--> Processing Dependency: perl(Pod::Escapes) >= 1.04 for package: 1:perl-Pod-Simple-3.28-4.el7.noarch
--> Processing Dependency: perl(Encode) for package: 1:perl-Pod-Simple-3.28-4.el7.noarch
---> Package perl-Pod-Usage.noarch 0:1.63-3.el7 will be installed
--> Processing Dependency: perl(Pod::Text) >= 3.15 for package: perl-Pod-Usage-1.63-3.el7.noarch
--> Processing Dependency: perl-Pod-Perldoc for package: perl-Pod-Usage-1.63-3.el7.noarch
---> Package perl-Scalar-List-Utils.x86_64 0:1.27-248.el7 will be installed
---> Package perl-Socket.x86_64 0:2.010-4.el7 will be installed
---> Package perl-Storable.x86_64 0:2.45-3.el7 will be installed
---> Package perl-Text-ParseWords.noarch 0:3.29-4.el7 will be installed
---> Package perl-Time-HiRes.x86_64 4:1.9725-3.el7 will be installed
---> Package perl-Time-Local.noarch 0:1.2300-2.el7 will be installed
---> Package perl-constant.noarch 0:1.27-2.el7 will be installed
---> Package perl-libs.x86_64 4:5.16.3-293.el7 will be installed
---> Package perl-macros.x86_64 4:5.16.3-293.el7 will be installed
---> Package perl-threads.x86_64 0:1.87-4.el7 will be installed
---> Package perl-threads-shared.x86_64 0:1.43-6.el7 will be installed
--> Running transaction check
---> Package perl-Encode.x86_64 0:2.51-7.el7 will be installed
---> Package perl-Pod-Escapes.noarch 1:1.04-293.el7 will be installed
---> Package perl-Pod-Perldoc.noarch 0:3.20-4.el7 will be installed
--> Processing Dependency: perl(parent) for package: perl-Pod-Perldoc-3.20-4.el7.noarch
--> Processing Dependency: perl(HTTP::Tiny) for package: perl-Pod-Perldoc-3.20-4.el7.noarch
--> Processing Dependency: groff-base for package: perl-Pod-Perldoc-3.20-4.el7.noarch
---> Package perl-podlators.noarch 0:2.5.1-3.el7 will be installed
--> Running transaction check
---> Package groff-base.x86_64 0:1.22.2-8.el7 will be installed
---> Package perl-HTTP-Tiny.noarch 0:0.033-3.el7 will be installed
---> Package perl-parent.noarch 1:0.225-244.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                Arch   Version                  Repository         Size
================================================================================
Installing:
 mysql-community-server x86_64 5.7.24-1.el7             mysql57-community 165 M
Installing for dependencies:
 groff-base             x86_64 1.22.2-8.el7             base              942 k
 libaio                 x86_64 0.3.109-13.el7           base               24 k
 mysql-community-client x86_64 5.7.24-1.el7             mysql57-community  24 M
 mysql-community-common x86_64 5.7.24-1.el7             mysql57-community 274 k
 mysql-community-libs   x86_64 5.7.24-1.el7             mysql57-community 2.2 M
 net-tools              x86_64 2.0-0.24.20131004git.el7 base              306 k
 numactl-libs           x86_64 2.0.9-7.el7              base               29 k
 perl                   x86_64 4:5.16.3-293.el7         base              8.0 M
 perl-Carp              noarch 1.26-244.el7             base               19 k
 perl-Encode            x86_64 2.51-7.el7               base              1.5 M
 perl-Exporter          noarch 5.68-3.el7               base               28 k
 perl-File-Path         noarch 2.09-2.el7               base               26 k
 perl-File-Temp         noarch 0.23.01-3.el7            base               56 k
 perl-Filter            x86_64 1.49-3.el7               base               76 k
 perl-Getopt-Long       noarch 2.40-3.el7               base               56 k
 perl-HTTP-Tiny         noarch 0.033-3.el7              base               38 k
 perl-PathTools         x86_64 3.40-5.el7               base               82 k
 perl-Pod-Escapes       noarch 1:1.04-293.el7           base               51 k
 perl-Pod-Perldoc       noarch 3.20-4.el7               base               87 k
 perl-Pod-Simple        noarch 1:3.28-4.el7             base              216 k
 perl-Pod-Usage         noarch 1.63-3.el7               base               27 k
 perl-Scalar-List-Utils x86_64 1.27-248.el7             base               36 k
 perl-Socket            x86_64 2.010-4.el7              base               49 k
 perl-Storable          x86_64 2.45-3.el7               base               77 k
 perl-Text-ParseWords   noarch 3.29-4.el7               base               14 k
 perl-Time-HiRes        x86_64 4:1.9725-3.el7           base               45 k
 perl-Time-Local        noarch 1.2300-2.el7             base               24 k
 perl-constant          noarch 1.27-2.el7               base               19 k
 perl-libs              x86_64 4:5.16.3-293.el7         base              688 k
 perl-macros            x86_64 4:5.16.3-293.el7         base               44 k
 perl-parent            noarch 1:0.225-244.el7          base               12 k
 perl-podlators         noarch 2.5.1-3.el7              base              112 k
 perl-threads           x86_64 1.87-4.el7               base               49 k
 perl-threads-shared    x86_64 1.43-6.el7               base               39 k

Transaction Summary
================================================================================
Install  1 Package (+34 Dependent packages)

Total download size: 204 M
Installed size: 904 M
Downloading packages:
[91mwarning: /var/cache/yum/x86_64/7/mysql57-community/packages/mysql-community-common-5.7.24-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY
[0mPublic key for mysql-community-common-5.7.24-1.el7.x86_64.rpm is not installed
--------------------------------------------------------------------------------
Total                                              115 MB/s | 204 MB  00:01     
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
[91mImporting GPG key 0x5072E1F5:
 Userid     : "MySQL Release Engineering <mysql-build@oss.oracle.com>"
 Fingerprint: a4a9 4068 76fc bd3c 4567 70c8 8c71 8d3b 5072 e1f5
 Package    : mysql57-community-release-el7-9.noarch (installed)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
[0mRunning transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : mysql-community-common-5.7.24-1.el7.x86_64                  1/35 
  Installing : mysql-community-libs-5.7.24-1.el7.x86_64                    2/35 
  Installing : mysql-community-client-5.7.24-1.el7.x86_64                  3/35 
  Installing : net-tools-2.0-0.24.20131004git.el7.x86_64                   4/35 
  Installing : numactl-libs-2.0.9-7.el7.x86_64                             5/35 
  Installing : libaio-0.3.109-13.el7.x86_64                                6/35 
  Installing : groff-base-1.22.2-8.el7.x86_64                              7/35 
  Installing : 1:perl-parent-0.225-244.el7.noarch                          8/35 
  Installing : perl-HTTP-Tiny-0.033-3.el7.noarch                           9/35 
  Installing : perl-podlators-2.5.1-3.el7.noarch                          10/35 
  Installing : perl-Pod-Perldoc-3.20-4.el7.noarch                         11/35 
  Installing : 1:perl-Pod-Escapes-1.04-293.el7.noarch                     12/35 
  Installing : perl-Encode-2.51-7.el7.x86_64                              13/35 
  Installing : perl-Text-ParseWords-3.29-4.el7.noarch                     14/35 
  Installing : perl-Pod-Usage-1.63-3.el7.noarch                           15/35 
  Installing : perl-Storable-2.45-3.el7.x86_64                            16/35 
  Installing : perl-Exporter-5.68-3.el7.noarch                            17/35 
  Installing : perl-constant-1.27-2.el7.noarch                            18/35 
  Installing : perl-Carp-1.26-244.el7.noarch                              19/35 
  Installing : 4:perl-macros-5.16.3-293.el7.x86_64                        20/35 
  Installing : perl-Time-Local-1.2300-2.el7.noarch                        21/35 
  Installing : perl-Socket-2.010-4.el7.x86_64                             22/35 
  Installing : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                      23/35 
  Installing : perl-PathTools-3.40-5.el7.x86_64                           24/35 
  Installing : perl-Scalar-List-Utils-1.27-248.el7.x86_64                 25/35 
  Installing : 1:perl-Pod-Simple-3.28-4.el7.noarch                        26/35 
  Installing : perl-File-Temp-0.23.01-3.el7.noarch                        27/35 
  Installing : perl-File-Path-2.09-2.el7.noarch                           28/35 
  Installing : perl-threads-shared-1.43-6.el7.x86_64                      29/35 
  Installing : perl-threads-1.87-4.el7.x86_64                             30/35 
  Installing : perl-Filter-1.49-3.el7.x86_64                              31/35 
  Installing : 4:perl-libs-5.16.3-293.el7.x86_64                          32/35 
  Installing : perl-Getopt-Long-2.40-3.el7.noarch                         33/35 
  Installing : 4:perl-5.16.3-293.el7.x86_64                               34/35 
  Installing : mysql-community-server-5.7.24-1.el7.x86_64                 35/35 
  Verifying  : perl-HTTP-Tiny-0.033-3.el7.noarch                           1/35 
  Verifying  : perl-threads-shared-1.43-6.el7.x86_64                       2/35 
  Verifying  : perl-Storable-2.45-3.el7.x86_64                             3/35 
  Verifying  : perl-Exporter-5.68-3.el7.noarch                             4/35 
  Verifying  : perl-constant-1.27-2.el7.noarch                             5/35 
  Verifying  : perl-PathTools-3.40-5.el7.x86_64                            6/35 
  Verifying  : mysql-community-common-5.7.24-1.el7.x86_64                  7/35 
  Verifying  : perl-Carp-1.26-244.el7.noarch                               8/35 
  Verifying  : 4:perl-macros-5.16.3-293.el7.x86_64                         9/35 
  Verifying  : 1:perl-parent-0.225-244.el7.noarch                         10/35 
  Verifying  : groff-base-1.22.2-8.el7.x86_64                             11/35 
  Verifying  : perl-File-Temp-0.23.01-3.el7.noarch                        12/35 
  Verifying  : 1:perl-Pod-Simple-3.28-4.el7.noarch                        13/35 
  Verifying  : perl-Time-Local-1.2300-2.el7.noarch                        14/35 
  Verifying  : 1:perl-Pod-Escapes-1.04-293.el7.noarch                     15/35 
  Verifying  : libaio-0.3.109-13.el7.x86_64                               16/35 
  Verifying  : perl-Socket-2.010-4.el7.x86_64                             17/35 
  Verifying  : numactl-libs-2.0.9-7.el7.x86_64                            18/35 
  Verifying  : net-tools-2.0-0.24.20131004git.el7.x86_64                  19/35 
  Verifying  : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                      20/35 
  Verifying  : perl-Scalar-List-Utils-1.27-248.el7.x86_64                 21/35 
  Verifying  : mysql-community-libs-5.7.24-1.el7.x86_64                   22/35 
  Verifying  : mysql-community-server-5.7.24-1.el7.x86_64                 23/35 
  Verifying  : perl-Pod-Usage-1.63-3.el7.noarch                           24/35 
  Verifying  : perl-Encode-2.51-7.el7.x86_64                              25/35 
  Verifying  : perl-Pod-Perldoc-3.20-4.el7.noarch                         26/35 
  Verifying  : perl-podlators-2.5.1-3.el7.noarch                          27/35 
  Verifying  : 4:perl-5.16.3-293.el7.x86_64                               28/35 
  Verifying  : perl-File-Path-2.09-2.el7.noarch                           29/35 
  Verifying  : perl-threads-1.87-4.el7.x86_64                             30/35 
  Verifying  : perl-Filter-1.49-3.el7.x86_64                              31/35 
  Verifying  : perl-Getopt-Long-2.40-3.el7.noarch                         32/35 
  Verifying  : perl-Text-ParseWords-3.29-4.el7.noarch                     33/35 
  Verifying  : 4:perl-libs-5.16.3-293.el7.x86_64                          34/35 
  Verifying  : mysql-community-client-5.7.24-1.el7.x86_64                 35/35 

Installed:
  mysql-community-server.x86_64 0:5.7.24-1.el7                                  

Dependency Installed:
  groff-base.x86_64 0:1.22.2-8.el7                                              
  libaio.x86_64 0:0.3.109-13.el7                                                
  mysql-community-client.x86_64 0:5.7.24-1.el7                                  
  mysql-community-common.x86_64 0:5.7.24-1.el7                                  
  mysql-community-libs.x86_64 0:5.7.24-1.el7                                    
  net-tools.x86_64 0:2.0-0.24.20131004git.el7                                   
  numactl-libs.x86_64 0:2.0.9-7.el7                                             
  perl.x86_64 4:5.16.3-293.el7                                                  
  perl-Carp.noarch 0:1.26-244.el7                                               
  perl-Encode.x86_64 0:2.51-7.el7                                               
  perl-Exporter.noarch 0:5.68-3.el7                                             
  perl-File-Path.noarch 0:2.09-2.el7                                            
  perl-File-Temp.noarch 0:0.23.01-3.el7                                         
  perl-Filter.x86_64 0:1.49-3.el7                                               
  perl-Getopt-Long.noarch 0:2.40-3.el7                                          
  perl-HTTP-Tiny.noarch 0:0.033-3.el7                                           
  perl-PathTools.x86_64 0:3.40-5.el7                                            
  perl-Pod-Escapes.noarch 1:1.04-293.el7                                        
  perl-Pod-Perldoc.noarch 0:3.20-4.el7                                          
  perl-Pod-Simple.noarch 1:3.28-4.el7                                           
  perl-Pod-Usage.noarch 0:1.63-3.el7                                            
  perl-Scalar-List-Utils.x86_64 0:1.27-248.el7                                  
  perl-Socket.x86_64 0:2.010-4.el7                                              
  perl-Storable.x86_64 0:2.45-3.el7                                             
  perl-Text-ParseWords.noarch 0:3.29-4.el7                                      
  perl-Time-HiRes.x86_64 4:1.9725-3.el7                                         
  perl-Time-Local.noarch 0:1.2300-2.el7                                         
  perl-constant.noarch 0:1.27-2.el7                                             
  perl-libs.x86_64 4:5.16.3-293.el7                                             
  perl-macros.x86_64 4:5.16.3-293.el7                                           
  perl-parent.noarch 1:0.225-244.el7                                            
  perl-podlators.noarch 0:2.5.1-3.el7                                           
  perl-threads.x86_64 0:1.87-4.el7                                              
  perl-threads-shared.x86_64 0:1.43-6.el7                                       

Complete!
 ---> b74f8e01af59
Removing intermediate container faa8f36f0654
Step 7/14 : COPY entrypoint.sh /entrypoint.sh
 ---> 94ee85215c42
Removing intermediate container 33f120a22f55
Step 8/14 : RUN chmod +x /entrypoint.sh
 ---> Running in 692376ef0bf8
[91m[0m
 ---> 0afe7809af67
Removing intermediate container 692376ef0bf8
Step 9/14 : COPY setup.sql setup.sql
 ---> 45104867ee55
Removing intermediate container 30b5090b2cee
Step 10/14 : COPY configure.sh configure.sh
 ---> 0f7bd301b8b4
Removing intermediate container 099f0662de4a
Step 11/14 : RUN chmod +x configure.sh setup.sql
 ---> Running in 70a6dbff4c06

[91m[0m ---> 3215aa92f512
Removing intermediate container 70a6dbff4c06
Step 12/14 : USER mysql
 ---> Running in e5aafcedc785
 ---> dabe067981c4
Removing intermediate container e5aafcedc785
Step 13/14 : ENTRYPOINT sh -c /entrypoint.sh
 ---> Running in 9f85d1016112
 ---> 175890f14104
Removing intermediate container 9f85d1016112
Step 14/14 : EXPOSE 3306
 ---> Running in e8c4d9f0b6ce
 ---> b4a066a7b72c
Removing intermediate container e8c4d9f0b6ce
Successfully built b4a066a7b72c
[deploy-mysql] $ docker tag b4a066a7b72c instance-2:8080/mysql:latest
[deploy-mysql] $ docker inspect b4a066a7b72c
[deploy-mysql] $ docker push instance-2:8080/mysql:1
The push refers to a repository [instance-2:8080/mysql]
2a7651e377f1: Preparing
71197664abe1: Preparing
960bae74e146: Preparing
0cfcc0a65889: Preparing
f093a02a60c6: Preparing
50b2e3c06b44: Preparing
8c01b7a35142: Preparing
ae4399fab653: Preparing
071d8bd76517: Preparing
8c01b7a35142: Waiting
ae4399fab653: Waiting
50b2e3c06b44: Waiting
071d8bd76517: Waiting
71197664abe1: Pushed
f093a02a60c6: Pushed
2a7651e377f1: Pushed
960bae74e146: Pushed
0cfcc0a65889: Pushed
8c01b7a35142: Pushed
071d8bd76517: Layer already exists
ae4399fab653: Pushed
50b2e3c06b44: Pushed
1: digest: sha256:4b763d6a4b6037b97afd79f4cc7ea5f3904b40ad0766dc0921f6cac8c13e39a1 size: 2197
[deploy-mysql] $ docker push instance-2:8080/mysql:latest
The push refers to a repository [instance-2:8080/mysql]
2a7651e377f1: Preparing
71197664abe1: Preparing
960bae74e146: Preparing
0cfcc0a65889: Preparing
f093a02a60c6: Preparing
50b2e3c06b44: Preparing
8c01b7a35142: Preparing
ae4399fab653: Preparing
071d8bd76517: Preparing
50b2e3c06b44: Waiting
8c01b7a35142: Waiting
ae4399fab653: Waiting
071d8bd76517: Waiting
f093a02a60c6: Layer already exists
960bae74e146: Layer already exists
2a7651e377f1: Layer already exists
71197664abe1: Layer already exists
0cfcc0a65889: Layer already exists
50b2e3c06b44: Layer already exists
ae4399fab653: Layer already exists
8c01b7a35142: Layer already exists
071d8bd76517: Layer already exists
latest: digest: sha256:4b763d6a4b6037b97afd79f4cc7ea5f3904b40ad0766dc0921f6cac8c13e39a1 size: 2197
Starting Kubernetes deployment
Loading configuration: /var/jenkins_home/workspace/deploy-mysql/mysql/mysql-deploy.yaml
Applied Service: Service(apiVersion=v1, kind=Service, metadata=ObjectMeta(annotations=null, clusterName=null, creationTimestamp=2018-12-12T15:42:16Z, deletionGracePeriodSeconds=null, deletionTimestamp=null, finalizers=[], generateName=null, generation=null, initializers=null, labels=null, name=mysql-service, namespace=bsavoy, ownerReferences=[], resourceVersion=59597, selfLink=/api/v1/namespaces/bsavoy/services/mysql-service, uid=80799eeb-fe24-11e8-b0c4-42010a8e0003, additionalProperties={}), spec=ServiceSpec(clusterIP=10.101.73.28, externalIPs=[], externalName=null, externalTrafficPolicy=null, healthCheckNodePort=null, loadBalancerIP=null, loadBalancerSourceRanges=[], ports=[ServicePort(name=null, nodePort=null, port=3306, protocol=TCP, targetPort=IntOrString(IntVal=3306, Kind=null, StrVal=null, additionalProperties={}), additionalProperties={})], selector={app=mysql}, sessionAffinity=None, type=ClusterIP, additionalProperties={}), status=ServiceStatus(loadBalancer=LoadBalancerStatus(ingress=[], additionalProperties={}), additionalProperties={}), additionalProperties={})
Applied Deployment: Deployment(apiVersion=extensions/v1beta1, kind=Deployment, metadata=ObjectMeta(annotations=null, clusterName=null, creationTimestamp=2018-12-12T15:52:31Z, deletionGracePeriodSeconds=null, deletionTimestamp=null, finalizers=[], generateName=null, generation=2, initializers=null, labels={app=mysql}, name=mysql-deployment, namespace=bsavoy, ownerReferences=[], resourceVersion=59598, selfLink=/apis/extensions/v1beta1/namespaces/bsavoy/deployments/mysql-deployment, uid=eeee2925-fe25-11e8-b0c4-42010a8e0003, additionalProperties={}), spec=DeploymentSpec(minReadySeconds=null, paused=null, progressDeadlineSeconds=2147483647, replicas=1, revisionHistoryLimit=2147483647, rollbackTo=null, selector=LabelSelector(matchExpressions=[], matchLabels={app=mysql}, additionalProperties={}), strategy=DeploymentStrategy(rollingUpdate=RollingUpdateDeployment(maxSurge=IntOrString(IntVal=1, Kind=null, StrVal=null, additionalProperties={}), maxUnavailable=IntOrString(IntVal=1, Kind=null, StrVal=null, additionalProperties={}), additionalProperties={}), type=RollingUpdate, additionalProperties={}), template=PodTemplateSpec(metadata=ObjectMeta(annotations=null, clusterName=null, creationTimestamp=null, deletionGracePeriodSeconds=null, deletionTimestamp=null, finalizers=[], generateName=null, generation=null, initializers=null, labels={app=mysql}, name=null, namespace=null, ownerReferences=[], resourceVersion=null, selfLink=null, uid=null, additionalProperties={}), spec=PodSpec(activeDeadlineSeconds=null, affinity=null, automountServiceAccountToken=null, containers=[Container(args=[], command=[], env=[], envFrom=[], image=instance-2:8080/mysql:20181211.0, imagePullPolicy=IfNotPresent, lifecycle=null, livenessProbe=null, name=mysql-og, ports=[], readinessProbe=null, resources=ResourceRequirements(limits={cpu=Quantity(amount=1, format=null, additionalProperties={}), memory=Quantity(amount=2Gi, format=null, additionalProperties={})}, requests={cpu=Quantity(amount=500m, format=null, additionalProperties={}), memory=Quantity(amount=1Gi, format=null, additionalProperties={})}, additionalProperties={}), securityContext=null, stdin=null, stdinOnce=null, terminationMessagePath=/dev/termination-log, terminationMessagePolicy=File, tty=null, volumeMounts=[], workingDir=null, additionalProperties={})], dnsPolicy=ClusterFirst, hostAliases=[], hostIPC=null, hostNetwork=null, hostPID=null, hostname=null, imagePullSecrets=[LocalObjectReference(name=regcred, additionalProperties={})], initContainers=[], nodeName=null, nodeSelector=null, restartPolicy=Always, schedulerName=default-scheduler, securityContext=PodSecurityContext(fsGroup=null, runAsNonRoot=null, runAsUser=null, seLinuxOptions=null, supplementalGroups=[], additionalProperties={}), serviceAccount=null, serviceAccountName=null, subdomain=null, terminationGracePeriodSeconds=30, tolerations=[], volumes=[], additionalProperties={}), additionalProperties={}), additionalProperties={}), status=DeploymentStatus(availableReplicas=1, collisionCount=null, conditions=[DeploymentCondition(lastTransitionTime=2018-12-12T15:52:31Z, lastUpdateTime=2018-12-12T15:52:31Z, message=Deployment has minimum availability., reason=MinimumReplicasAvailable, status=True, type=Available, additionalProperties={})], observedGeneration=1, readyReplicas=1, replicas=1, unavailableReplicas=null, updatedReplicas=1, additionalProperties={}), additionalProperties={})
Finished Kubernetes deployment
Finished: SUCCESS
