Started by user [8mha:////4Nct9mT4JkcR2n6qL2qp2Se2jSWIXugywtK/9phaDtIgAAAAmB+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzuEgYe/dLi1CL9lPzk7NQiAErXYGvBAAAA[0mzzz@zzz.com
Building in workspace /var/jenkins_home/workspace/deploy-notebook
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://zerodown524@bitbucket.org/zerodown524/kalytical.git # timeout=10
Fetching upstream changes from https://zerodown524@bitbucket.org/zerodown524/kalytical.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress https://zerodown524@bitbucket.org/zerodown524/kalytical.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/initial^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/initial^{commit} # timeout=10
Checking out Revision 6d03d8e4675e2244a3d5a01ac00d486e4c9bd9af (refs/remotes/origin/initial)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 6d03d8e4675e2244a3d5a01ac00d486e4c9bd9af
Commit message: "fix jupyter"
 > git rev-list --no-walk 5dbf9243ef89aebd50bfdfee077aa35038ea16e4 # timeout=10
[deploy-notebook] $ docker build -t instance-1:8080/jupyter:7 --pull=true --file=jupyter/Dockerfile jupyter
Sending build context to Docker daemon  3.584kB
Step 1/1 : FROM jupyter/all-spark-notebook
Trying to pull repository docker.io/jupyter/all-spark-notebook ... 
latest: Pulling from docker.io/jupyter/all-spark-notebook
a48c500ed24e: Pulling fs layer
1e1de00ff7e1: Pulling fs layer
0330ca45a200: Pulling fs layer
471db38bcfbf: Pulling fs layer
0b4aba487617: Pulling fs layer
1bac85b3a63e: Pulling fs layer
245be47b44f6: Pulling fs layer
bc9f2b515993: Pulling fs layer
70c66ba9da3a: Pulling fs layer
5b37a77208e7: Pulling fs layer
69924084d9e8: Pulling fs layer
022c4b9a03b7: Pulling fs layer
05102897a60a: Pulling fs layer
9fba983e02fb: Pulling fs layer
dcf71afb398e: Pulling fs layer
e865c5e8a2cb: Pulling fs layer
e3e7aed23a54: Pulling fs layer
553c4d391b50: Pulling fs layer
485ef4272f2c: Pulling fs layer
26d0007a6c42: Pulling fs layer
e61c2291d8e1: Pulling fs layer
24e713e4e482: Pulling fs layer
48d9e1942c1b: Pulling fs layer
f70827dd8d3a: Pulling fs layer
9177f528b38e: Pulling fs layer
ac16449d3dab: Pulling fs layer
eb13e636eb51: Pulling fs layer
9b506eb25850: Pulling fs layer
791cd71caa1b: Pulling fs layer
9eb4117d7958: Pulling fs layer
fe65343e034a: Pulling fs layer
ccf643c9f75a: Pulling fs layer
3d4d1502c2b4: Pulling fs layer
d3e27d492ca6: Pulling fs layer
245be47b44f6: Waiting
bc9f2b515993: Waiting
70c66ba9da3a: Waiting
5b37a77208e7: Waiting
69924084d9e8: Waiting
022c4b9a03b7: Waiting
05102897a60a: Waiting
9fba983e02fb: Waiting
dcf71afb398e: Waiting
e865c5e8a2cb: Waiting
e3e7aed23a54: Waiting
553c4d391b50: Waiting
485ef4272f2c: Waiting
26d0007a6c42: Waiting
e61c2291d8e1: Waiting
24e713e4e482: Waiting
48d9e1942c1b: Waiting
f70827dd8d3a: Waiting
9177f528b38e: Waiting
ac16449d3dab: Waiting
eb13e636eb51: Waiting
9b506eb25850: Waiting
791cd71caa1b: Waiting
9eb4117d7958: Waiting
fe65343e034a: Waiting
ccf643c9f75a: Waiting
3d4d1502c2b4: Waiting
d3e27d492ca6: Waiting
471db38bcfbf: Waiting
0b4aba487617: Waiting
1bac85b3a63e: Waiting
0330ca45a200: Download complete
1e1de00ff7e1: Verifying Checksum
1e1de00ff7e1: Download complete
0b4aba487617: Verifying Checksum
0b4aba487617: Download complete
471db38bcfbf: Download complete
a48c500ed24e: Verifying Checksum
a48c500ed24e: Download complete
bc9f2b515993: Verifying Checksum
bc9f2b515993: Download complete
1bac85b3a63e: Download complete
70c66ba9da3a: Verifying Checksum
70c66ba9da3a: Download complete
5b37a77208e7: Verifying Checksum
5b37a77208e7: Download complete
245be47b44f6: Verifying Checksum
245be47b44f6: Download complete
022c4b9a03b7: Verifying Checksum
022c4b9a03b7: Download complete
9fba983e02fb: Verifying Checksum
9fba983e02fb: Download complete
dcf71afb398e: Verifying Checksum
dcf71afb398e: Download complete
e865c5e8a2cb: Verifying Checksum
e865c5e8a2cb: Download complete
69924084d9e8: Verifying Checksum
69924084d9e8: Download complete
e3e7aed23a54: Verifying Checksum
e3e7aed23a54: Download complete
553c4d391b50: Verifying Checksum
553c4d391b50: Download complete
05102897a60a: Verifying Checksum
05102897a60a: Download complete
26d0007a6c42: Verifying Checksum
26d0007a6c42: Download complete
a48c500ed24e: Pull complete
1e1de00ff7e1: Pull complete
0330ca45a200: Pull complete
24e713e4e482: Download complete
471db38bcfbf: Pull complete
0b4aba487617: Pull complete
48d9e1942c1b: Verifying Checksum
48d9e1942c1b: Download complete
f70827dd8d3a: Verifying Checksum
f70827dd8d3a: Download complete
1bac85b3a63e: Pull complete
245be47b44f6: Pull complete
9177f528b38e: Verifying Checksum
9177f528b38e: Download complete
ac16449d3dab: Verifying Checksum
ac16449d3dab: Download complete
eb13e636eb51: Verifying Checksum
eb13e636eb51: Download complete
bc9f2b515993: Pull complete
9b506eb25850: Verifying Checksum
9b506eb25850: Download complete
791cd71caa1b: Verifying Checksum
791cd71caa1b: Download complete
9eb4117d7958: Verifying Checksum
9eb4117d7958: Download complete
485ef4272f2c: Verifying Checksum
485ef4272f2c: Download complete
fe65343e034a: Verifying Checksum
fe65343e034a: Download complete
e61c2291d8e1: Verifying Checksum
e61c2291d8e1: Download complete
ccf643c9f75a: Verifying Checksum
ccf643c9f75a: Download complete
d3e27d492ca6: Download complete
70c66ba9da3a: Pull complete
3d4d1502c2b4: Verifying Checksum
3d4d1502c2b4: Download complete
5b37a77208e7: Pull complete
69924084d9e8: Pull complete
022c4b9a03b7: Pull complete
05102897a60a: Pull complete
9fba983e02fb: Pull complete
dcf71afb398e: Pull complete
e865c5e8a2cb: Pull complete
e3e7aed23a54: Pull complete
553c4d391b50: Pull complete
485ef4272f2c: Pull complete
26d0007a6c42: Pull complete
e61c2291d8e1: Pull complete
24e713e4e482: Pull complete
48d9e1942c1b: Pull complete
f70827dd8d3a: Pull complete
9177f528b38e: Pull complete
ac16449d3dab: Pull complete
eb13e636eb51: Pull complete
9b506eb25850: Pull complete
791cd71caa1b: Pull complete
9eb4117d7958: Pull complete
fe65343e034a: Pull complete
ccf643c9f75a: Pull complete
3d4d1502c2b4: Pull complete
d3e27d492ca6: Pull complete
Digest: sha256:1baeebb724483e5176899b211a0454fba8bff1e042273817813e12e578a06b26
Status: Downloaded newer image for docker.io/jupyter/all-spark-notebook:latest
 ---> 708afc986779
Successfully built 708afc986779
[deploy-notebook] $ docker tag 708afc986779 instance-1:8080/jupyter:latest
[deploy-notebook] $ docker inspect 708afc986779
[deploy-notebook] $ docker push instance-1:8080/jupyter:7
The push refers to a repository [instance-1:8080/jupyter]
a0bc4e42e555: Preparing
03d6e86e69b5: Preparing
d3aa7464bf0c: Preparing
70eff73d3501: Preparing
68d8928b18d5: Preparing
37da007766d1: Preparing
36605f47c52e: Preparing
0d004003d226: Preparing
4478c88a41c1: Preparing
9d5f0a0d3351: Preparing
aeb8cad161d7: Preparing
0d004003d226: Waiting
5d7c0e69abc7: Preparing
3664d4d8b65b: Preparing
05f2180dd3d1: Preparing
4478c88a41c1: Waiting
122a00f7eff7: Preparing
ba4789486865: Preparing
9d5f0a0d3351: Waiting
98635e2d5f65: Preparing
de5a589cac34: Preparing
62eafea38031: Preparing
37da007766d1: Waiting
e3fe8d0b75ad: Preparing
36605f47c52e: Waiting
60c06c8b25ee: Preparing
53f7b61ec107: Preparing
2d96395149a2: Preparing
3664d4d8b65b: Waiting
fdd95551e906: Preparing
c1fe60037a0e: Preparing
05f2180dd3d1: Waiting
c2f967090677: Preparing
0bdbdaf73b53: Preparing
122a00f7eff7: Waiting
e9804e687894: Preparing
ba4789486865: Waiting
e8482936e318: Preparing
98635e2d5f65: Waiting
aeb8cad161d7: Waiting
059ad60bcacf: Preparing
8db5f072feec: Preparing
5d7c0e69abc7: Waiting
67885e448177: Preparing
ec75999a0cb1: Preparing
de5a589cac34: Waiting
53f7b61ec107: Waiting
65bdd50ee76a: Preparing
62eafea38031: Waiting
2d96395149a2: Waiting
0bdbdaf73b53: Waiting
e3fe8d0b75ad: Waiting
fdd95551e906: Waiting
e9804e687894: Waiting
60c06c8b25ee: Waiting
e8482936e318: Waiting
c1fe60037a0e: Waiting
059ad60bcacf: Waiting
c2f967090677: Waiting
ec75999a0cb1: Waiting
8db5f072feec: Waiting
67885e448177: Waiting
a0bc4e42e555: Pushed
68d8928b18d5: Pushed
70eff73d3501: Pushed
0d004003d226: Pushed
4478c88a41c1: Pushed
03d6e86e69b5: Pushed
aeb8cad161d7: Pushed
5d7c0e69abc7: Pushed
3664d4d8b65b: Pushed
36605f47c52e: Pushed
d3aa7464bf0c: Pushed
9d5f0a0d3351: Pushed
37da007766d1: Pushed
de5a589cac34: Pushed
98635e2d5f65: Pushed
e3fe8d0b75ad: Pushed
62eafea38031: Pushed
60c06c8b25ee: Pushed
2d96395149a2: Pushed
122a00f7eff7: Pushed
c1fe60037a0e: Pushed
c2f967090677: Pushed
0bdbdaf73b53: Pushed
e9804e687894: Pushed
e8482936e318: Pushed
059ad60bcacf: Pushed
8db5f072feec: Pushed
67885e448177: Pushed
ec75999a0cb1: Pushed
fdd95551e906: Pushed
65bdd50ee76a: Pushed
53f7b61ec107: Pushed
05f2180dd3d1: Pushed
ba4789486865: Pushed
7: digest: sha256:1baeebb724483e5176899b211a0454fba8bff1e042273817813e12e578a06b26 size: 7450
[deploy-notebook] $ docker push instance-1:8080/jupyter:latest
The push refers to a repository [instance-1:8080/jupyter]
a0bc4e42e555: Preparing
03d6e86e69b5: Preparing
d3aa7464bf0c: Preparing
70eff73d3501: Preparing
68d8928b18d5: Preparing
37da007766d1: Preparing
36605f47c52e: Preparing
0d004003d226: Preparing
4478c88a41c1: Preparing
9d5f0a0d3351: Preparing
aeb8cad161d7: Preparing
5d7c0e69abc7: Preparing
3664d4d8b65b: Preparing
05f2180dd3d1: Preparing
122a00f7eff7: Preparing
ba4789486865: Preparing
98635e2d5f65: Preparing
de5a589cac34: Preparing
62eafea38031: Preparing
e3fe8d0b75ad: Preparing
60c06c8b25ee: Preparing
53f7b61ec107: Preparing
2d96395149a2: Preparing
fdd95551e906: Preparing
c1fe60037a0e: Preparing
c2f967090677: Preparing
0bdbdaf73b53: Preparing
e9804e687894: Preparing
e8482936e318: Preparing
059ad60bcacf: Preparing
8db5f072feec: Preparing
67885e448177: Preparing
ec75999a0cb1: Preparing
65bdd50ee76a: Preparing
62eafea38031: Waiting
e3fe8d0b75ad: Waiting
60c06c8b25ee: Waiting
53f7b61ec107: Waiting
2d96395149a2: Waiting
fdd95551e906: Waiting
c1fe60037a0e: Waiting
c2f967090677: Waiting
0bdbdaf73b53: Waiting
e9804e687894: Waiting
ec75999a0cb1: Waiting
e8482936e318: Waiting
059ad60bcacf: Waiting
65bdd50ee76a: Waiting
8db5f072feec: Waiting
67885e448177: Waiting
37da007766d1: Waiting
36605f47c52e: Waiting
5d7c0e69abc7: Waiting
3664d4d8b65b: Waiting
05f2180dd3d1: Waiting
122a00f7eff7: Waiting
ba4789486865: Waiting
0d004003d226: Waiting
4478c88a41c1: Waiting
9d5f0a0d3351: Waiting
aeb8cad161d7: Waiting
98635e2d5f65: Waiting
de5a589cac34: Waiting
d3aa7464bf0c: Layer already exists
03d6e86e69b5: Layer already exists
68d8928b18d5: Layer already exists
70eff73d3501: Layer already exists
37da007766d1: Layer already exists
a0bc4e42e555: Layer already exists
9d5f0a0d3351: Layer already exists
0d004003d226: Layer already exists
4478c88a41c1: Layer already exists
aeb8cad161d7: Layer already exists
36605f47c52e: Layer already exists
05f2180dd3d1: Layer already exists
5d7c0e69abc7: Layer already exists
ba4789486865: Layer already exists
3664d4d8b65b: Layer already exists
de5a589cac34: Layer already exists
98635e2d5f65: Layer already exists
122a00f7eff7: Layer already exists
e3fe8d0b75ad: Layer already exists
62eafea38031: Layer already exists
60c06c8b25ee: Layer already exists
53f7b61ec107: Layer already exists
fdd95551e906: Layer already exists
c2f967090677: Layer already exists
c1fe60037a0e: Layer already exists
0bdbdaf73b53: Layer already exists
2d96395149a2: Layer already exists
e9804e687894: Layer already exists
e8482936e318: Layer already exists
67885e448177: Layer already exists
8db5f072feec: Layer already exists
65bdd50ee76a: Layer already exists
059ad60bcacf: Layer already exists
ec75999a0cb1: Layer already exists
latest: digest: sha256:1baeebb724483e5176899b211a0454fba8bff1e042273817813e12e578a06b26 size: 7450
Starting Kubernetes deployment
Loading configuration: /var/jenkins_home/workspace/deploy-notebook/jupyter/jupyter-deploy.yaml
Created Service: Service(apiVersion=v1, kind=Service, metadata=ObjectMeta(annotations=null, clusterName=null, creationTimestamp=2018-12-19T02:37:06Z, deletionGracePeriodSeconds=null, deletionTimestamp=null, finalizers=[], generateName=null, generation=null, initializers=null, labels=null, name=jupyter-service-bsavoy, namespace=bsavoy, ownerReferences=[], resourceVersion=161690, selfLink=/api/v1/namespaces/bsavoy/services/jupyter-service-bsavoy, uid=f988a353-0336-11e9-a29a-42010a8e0003, additionalProperties={}), spec=ServiceSpec(clusterIP=10.102.104.84, externalIPs=[], externalName=null, externalTrafficPolicy=Cluster, healthCheckNodePort=null, loadBalancerIP=null, loadBalancerSourceRanges=[], ports=[ServicePort(name=null, nodePort=30909, port=8888, protocol=TCP, targetPort=IntOrString(IntVal=8888, Kind=null, StrVal=null, additionalProperties={}), additionalProperties={})], selector={app=jupyter-bsavoy}, sessionAffinity=None, type=NodePort, additionalProperties={}), status=ServiceStatus(loadBalancer=LoadBalancerStatus(ingress=[], additionalProperties={}), additionalProperties={}), additionalProperties={})
Created Deployment: Deployment(apiVersion=extensions/v1beta1, kind=Deployment, metadata=ObjectMeta(annotations=null, clusterName=null, creationTimestamp=2018-12-19T02:37:06Z, deletionGracePeriodSeconds=null, deletionTimestamp=null, finalizers=[], generateName=null, generation=1, initializers=null, labels={app=jupyter-bsavoy}, name=jupyter-deployment-bsavoy, namespace=bsavoy, ownerReferences=[], resourceVersion=161691, selfLink=/apis/extensions/v1beta1/namespaces/bsavoy/deployments/jupyter-deployment-bsavoy, uid=f98aaf72-0336-11e9-a29a-42010a8e0003, additionalProperties={}), spec=DeploymentSpec(minReadySeconds=null, paused=null, progressDeadlineSeconds=2147483647, replicas=1, revisionHistoryLimit=2147483647, rollbackTo=null, selector=LabelSelector(matchExpressions=[], matchLabels={app=jupyter-bsavoy}, additionalProperties={}), strategy=DeploymentStrategy(rollingUpdate=RollingUpdateDeployment(maxSurge=IntOrString(IntVal=1, Kind=null, StrVal=null, additionalProperties={}), maxUnavailable=IntOrString(IntVal=1, Kind=null, StrVal=null, additionalProperties={}), additionalProperties={}), type=RollingUpdate, additionalProperties={}), template=PodTemplateSpec(metadata=ObjectMeta(annotations=null, clusterName=null, creationTimestamp=null, deletionGracePeriodSeconds=null, deletionTimestamp=null, finalizers=[], generateName=null, generation=null, initializers=null, labels={app=jupyter-bsavoy}, name=null, namespace=null, ownerReferences=[], resourceVersion=null, selfLink=null, uid=null, additionalProperties={}), spec=PodSpec(activeDeadlineSeconds=null, affinity=null, automountServiceAccountToken=null, containers=[Container(args=[], command=[], env=[], envFrom=[], image=instance-1:8080/jupyter:7, imagePullPolicy=IfNotPresent, lifecycle=null, livenessProbe=null, name=jupyter-bsavoy, ports=[], readinessProbe=null, resources=ResourceRequirements(limits={cpu=Quantity(amount=1, format=null, additionalProperties={}), memory=Quantity(amount=2Gi, format=null, additionalProperties={})}, requests={cpu=Quantity(amount=500m, format=null, additionalProperties={}), memory=Quantity(amount=1Gi, format=null, additionalProperties={})}, additionalProperties={}), securityContext=null, stdin=null, stdinOnce=null, terminationMessagePath=/dev/termination-log, terminationMessagePolicy=File, tty=null, volumeMounts=[], workingDir=null, additionalProperties={})], dnsPolicy=ClusterFirst, hostAliases=[], hostIPC=null, hostNetwork=null, hostPID=null, hostname=null, imagePullSecrets=[], initContainers=[], nodeName=null, nodeSelector=null, restartPolicy=Always, schedulerName=default-scheduler, securityContext=PodSecurityContext(fsGroup=null, runAsNonRoot=null, runAsUser=null, seLinuxOptions=null, supplementalGroups=[], additionalProperties={}), serviceAccount=null, serviceAccountName=null, subdomain=null, terminationGracePeriodSeconds=30, tolerations=[], volumes=[], additionalProperties={}), additionalProperties={}), additionalProperties={}), status=DeploymentStatus(availableReplicas=null, collisionCount=null, conditions=[], observedGeneration=null, readyReplicas=null, replicas=null, unavailableReplicas=null, updatedReplicas=null, additionalProperties={}), additionalProperties={})
Finished Kubernetes deployment
Finished: SUCCESS
